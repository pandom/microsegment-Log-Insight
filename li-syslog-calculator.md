# Log Insight Syslog Calculator

Using syslog to determine connection data with the Distributed Firewall does increase syslog usage. With increased Syslog usage it wise to ensure your syslog collector has the ability to store, and if required archive, this data.

Two log entries are created for flows permitted by the Distributed Firewall. One is created when a flow is allowed. Another is created when a flow is terminated.

## Values

Below are the values used in calculations:

`vmhost` = number of vSphere Hosts in NSX domain

`vms` = number of Virtual Machines

`flows` = number of flows in 24 hours

`permit` = percentage of permitted flows

`deny` = percentage of denied flows

`256` = 256 character log limit due to vSphere. Results in max. 256 byte log.


**note** Whilst the previous data can be estimated the most accurage calculation occur based off of `average number of flows`.

All output is divided by `1000` to ascertain data usages in bytes.


## Calculations

1. Logs daily per Virtual Machine
*this is the total number of logs generated by a single VM*

* Permit: 2 x ( `flows` * `permit` ) * 256 / 1000
* Deny: (`flows` * `deny` ) * 256 / 1000
* Total: `permit` + `deny`
* Total in GB = `total`/1000000

2. Logs daily per Host
*this is the total number of logs generated by all VMs on a single host*

* Permit: 2 x ( `flows` * `permit` ) * `vmhost` * 256 / 1000
* Deny: (`flows` * `deny` ) * `vmhost` * 256 / 1000
* Total: `permit` + `deny`
* Total in GB = `total`/1000000

3. All Virtual machones
*this is the total number of logs generated by all VMs on all hosts*

* Permit: 2 x ( `flows` * `permit` ) * `vms` * `vmhost` * 256 / 1000
* Deny: (`flows` * `deny` ) * `vms` * `vmhost` * 256 / 1000
* Total: `permit` + `deny`
* Total in GB = `total`/1000000

## Handy Spreadsheet

Here is a spreadsheet that has all this math pre done. All the user needs to do is fill our the values and see the calculated results in Gigabtes on the right.

**Add Link**





